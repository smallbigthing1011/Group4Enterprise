(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{220:function(e,t,n){},221:function(e,t,n){},228:function(e,t){},230:function(e,t){},241:function(e,t){},243:function(e,t){},270:function(e,t){},272:function(e,t){},273:function(e,t){},278:function(e,t){},280:function(e,t){},299:function(e,t){},311:function(e,t){},314:function(e,t){},341:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(17),s=n.n(i),r=n(9),o=(n(220),n(20)),l=(n(221),n(8)),j=n.n(l),d=n(25),b=n(14),u=n(6),h=n(378),x=n(202),O=n(377),m=n(380),p=n(386),f=n(392),g=n(384),y=n(397),v=n(383),C=n(399),k=n(393),w=n(388),N=n(389),S=n(24),E=n.n(S),z=n(193),D=n(369),I=n(372),B=n(373),A=n(374),T=n(375),J=n(376),P=n(199),W=n.n(P),F=n(72),G=n.n(F),H=n(59),M=n.n(H),L="https://group4-magazine.com",_=n(1),U=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n=JSON.parse(t),e.next=4,fetch("".concat(L,"/accounts"),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 4:return e.next=6,e.sent.json();case 6:a=e.sent,c(a.accounts);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(_.jsx)("div",{children:Object(_.jsx)(D.a,{children:Object(_.jsxs)(I.a,{children:[Object(_.jsx)(B.a,{children:Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:"Email"}),Object(_.jsx)(T.a,{children:"Role"}),Object(_.jsx)(T.a,{children:"Faculty"}),Object(_.jsx)(T.a,{children:"Actions"})]})}),Object(_.jsx)(J.a,{children:n.length>0?n.map((function(e){return"group4.greenwich@gmail.com"===e.email?Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:e.email}),Object(_.jsx)(T.a,{children:e.role}),Object(_.jsx)(T.a,{children:e.faculty}),Object(_.jsx)(T.a,{})]},e.id):Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:e.email}),Object(_.jsx)(T.a,{children:e.role}),Object(_.jsx)(T.a,{children:e.faculty}),Object(_.jsxs)(T.a,{children:[Object(_.jsx)(r.b,{to:"/account/viewAccount/".concat(e.id),children:Object(_.jsx)(O.a,{children:Object(_.jsx)(M.a,{})})}),Object(_.jsx)(r.b,{to:"/account/editAccount/".concat(e.id),children:Object(_.jsx)(O.a,{children:Object(_.jsx)(G.a,{})})}),Object(_.jsx)(r.b,{to:"/account/deleteAccount/".concat(e.id),children:Object(_.jsx)(O.a,{children:Object(_.jsx)(W.a,{})})})]})]},e.id)})):"There is no account yet!"})]})})})},R=n(90),V=n(89),Y=n.n(V),K=Object(h.a)({root:{display:"flex",justifyContent:"space-between",flexDirection:"column",height:"100%"},table:{borderRadius:"33px 33px 0 0",backgroundColor:"#fff",boxShadow:" 0px -10px 37px 0px rgba(0,0,0,0.2)",minHeight:"80%"},typo:{color:"#0F3057",paddingRight:"20px",paddingTop:"20px"},textfield:{marginTop:"20px",marginBottom:"20px"},add:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%"}}),Z=function(e){var t=K();return Object(_.jsxs)(f.a,{className:t.root,children:[Object(_.jsxs)(f.a,{children:[Object(_.jsx)(R.a,{align:"right",className:t.typo,variant:"h5",children:null===e.user.name?"Update your name":e.user.name}),Object(_.jsx)(R.a,{align:"right",className:t.typo,children:e.user.email})]}),Object(_.jsx)(f.a,{className:t.table,children:Object(_.jsxs)(f.a,{children:[Object(_.jsx)(f.a,{className:t.add,children:Object(_.jsx)(r.b,{to:"/account/createAccount",children:Object(_.jsxs)(O.a,{variant:"text",children:[Object(_.jsx)(Y.a,{})," Create account"]})})}),Object(_.jsx)(U,{})]})})]})},q=n(18),Q=n(62),X=n(394),$=Object(h.a)({link:{textDecoration:"none"}}),ee=function(e){$();var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),o=Object(u.a)(s,2),l=o[0],d=o[1],h=document.cookie,x=JSON.parse(h);return Object(a.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(L,"/report/exception/contributionWithoutComment"),{headers:{"Content-type":"application/json","x-access-token":x.token},method:"GET"});case 2:return t.next=4,t.sent.json();case 4:return n=t.sent,t.next=7,fetch("".concat(L,"/report/exception/contributionWithoutComment/over14/").concat(e.year),{headers:{"Content-type":"application/json","x-access-token":x.token},method:"GET"});case 7:return t.next=9,t.sent.json();case 9:a=t.sent,i(n.contributions),d(a.contributions);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(_.jsxs)("div",{children:[Object(_.jsxs)(f.a,{margin:3,children:[Object(_.jsx)(R.a,{variant:"h5",align:"center",children:"Contributions without comments"}),Object(_.jsx)(D.a,{children:Object(_.jsxs)(I.a,{children:[Object(_.jsx)(B.a,{children:Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:"Contributors"}),Object(_.jsx)(T.a,{children:"Title"}),Object(_.jsx)(T.a,{children:"Select"}),Object(_.jsx)(T.a,{children:"Actions"})]})}),Object(_.jsx)(J.a,{children:c.length>0?c.map((function(t){return Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:t.contributorName}),Object(_.jsx)(T.a,{children:t.title}),Object(_.jsx)(T.a,{children:Object(_.jsx)(X.a,{checked:t.isSelected,inputProps:{"aria-label":"primary checkbox"}})}),Object(_.jsx)(T.a,{children:Object(_.jsx)(r.b,{to:"/contribution/".concat(t.id,"/").concat(e.state),children:Object(_.jsx)(O.a,{children:Object(_.jsx)(M.a,{})})})})]},t.id)})):"No contributions"})]})})]}),Object(_.jsxs)(f.a,{margin:3,children:[Object(_.jsx)(R.a,{variant:"h5",align:"center",children:"Contributions without comments after 14 days"}),Object(_.jsx)(D.a,{children:Object(_.jsxs)(I.a,{children:[Object(_.jsx)(B.a,{children:Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:"Contributors"}),Object(_.jsx)(T.a,{children:"Title"}),Object(_.jsx)(T.a,{children:"Select"}),Object(_.jsx)(T.a,{children:"Actions"})]})}),Object(_.jsx)(J.a,{children:l.length>0?l.map((function(t){return Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:t.contributorName}),Object(_.jsx)(T.a,{children:t.title}),Object(_.jsx)(T.a,{children:Object(_.jsx)(X.a,{checked:t.isSelected,inputProps:{"aria-label":"primary checkbox"}})}),Object(_.jsx)(T.a,{children:Object(_.jsx)(r.b,{to:"/contribution/".concat(t.id,"/").concat(e.state),children:Object(_.jsx)(O.a,{children:Object(_.jsx)(M.a,{})})})})]},t.id)})):"No contributions"})]})})]})]})},te=Object(h.a)({chart:{height:"400px",width:"400px"}}),ne=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},ae=function(){var e=te(),t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),r=Object(u.a)(s,2),o=(r[0],r[1]);return Object(a.useEffect)(Object(b.a)(j.a.mark((function e(){var t,n,a,c,s,r,l,b,u,h,x,O,m,p,f,g,y,v;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n=JSON.parse(t),a=new Date,c=a.getFullYear(),i(c),e.next=7,fetch("".concat(L,"/report/statistics/contributions"),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 7:return e.next=9,e.sent.json();case 9:return s=e.sent,o(s.labels),e.next=13,fetch("".concat(L,"/report/statictics/contributors"),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 13:return e.next=15,e.sent.json();case 15:return r=e.sent,e.next=18,fetch("".concat(L,"/report/statictics/year/").concat(c),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 18:return e.next=20,e.sent.json();case 20:for(l=e.sent,(b=Object(d.a)({},s)).datasets.forEach((function(e){return e.backgroundColor=ne()})),(u=Object(d.a)({},r)).datasets.forEach((function(e){return e.backgroundColor=ne()})),h=Object(d.a)({},l),x=[],O=0;O<h.labels.length;O++)x.push(ne());return l.datasets[0].backgroundColor=x,Q.a.register.apply(Q.a,Object(q.a)(Q.b)),m=document.getElementById("contributionNumber").getContext("2d"),p=document.getElementById("contributorNumber").getContext("2d"),f=document.getElementById("percentage").getContext("2d"),g=new Q.a(m,{type:"bar",data:b,options:{responsive:!0,legend:{position:"top"},title:{display:!0,text:"Chart.js Bar Chart"},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),y=new Q.a(p,{type:"bar",data:u,options:{responsive:!0,legend:{position:"top"},title:{display:!0,text:"Chart.js Bar Chart"},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}),v=new Q.a(f,{type:"pie",data:l}),e.abrupt("return",(function(){g.destroy(),y.destroy(),v.destroy()}));case 37:case"end":return e.stop()}}),e)}))),[]),Object(_.jsxs)("div",{children:[Object(_.jsx)(R.a,{align:"center",variant:"h6",children:"Number of contributions of each faculty in each year"}),Object(_.jsx)("canvas",{id:"contributionNumber",className:e.chart}),Object(_.jsx)(R.a,{align:"center",variant:"h6",children:"Number of contributors of each faculty in each year"}),Object(_.jsx)("canvas",{id:"contributorNumber",className:e.chart}),Object(_.jsxs)(R.a,{align:"center",variant:"h6",children:["Percentage of each faculty in year ",c]}),Object(_.jsx)("canvas",{id:"percentage",className:e.chart}),Object(_.jsx)(f.a,{children:Object(_.jsx)(ee,{})})]})},ce=n(200),ie=n.n(ce),se=Object(h.a)((function(e){return{root:{width:"100%"},commentBox:{height:"90vh",color:"black"},wrapper:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"column"},form:{width:"100%"},comment:{minHeight:"50px"},content:{width:"100%",minHeight:"30px",overflow:"visible"}}}));var re=function(e){var t=se(),n=Object(a.useState)(""),c=Object(u.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)([]),o=Object(u.a)(r,2),l=o[0],d=o[1],h=Object(a.useState)(""),x=Object(u.a)(h,2),p=(x[0],x[1]),g=Object(a.useState)(""),v=Object(u.a)(g,2),C=v[0],k=v[1],w=document.cookie;Object(a.useEffect)((function(){var t=JSON.parse(w);p(t.id),k(t.email),console.log(e.idcon)}),[]),Object(a.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(w),t.next=3,fetch("".concat(L,"/comments/contribution/").concat(e.idcon),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 3:return t.next=5,t.sent.json();case 5:a=t.sent,d(a.comments);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var N=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=JSON.parse(w),"Enter"!==n.key){t.next=9;break}return c={commenterEmail:C,content:i},t.next=5,fetch("".concat(L,"/comments/"),{headers:{"Content-type":"application/json","x-access-token":a.token},method:"POST",body:JSON.stringify({contribution:e.idcon,content:i})});case 5:return t.next=7,t.sent.json();case 7:t.sent,d([].concat(Object(q.a)(l),[c]));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(_.jsx)("div",{className:t.root,children:Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:t.commentBox,children:l.length>0?l.map((function(e){return Object(_.jsxs)(m.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:t.comment,children:[Object(_.jsx)(m.a,{item:!0,xs:5,sm:5,md:5,lg:5,children:Object(_.jsx)(f.a,{className:t.content,children:e.commenterEmail})}),Object(_.jsx)(m.a,{item:!0,xs:7,sm:7,md:7,lg:7,children:Object(_.jsx)(f.a,{className:t.content,children:e.content})})]})})):"no"}),Object(_.jsx)(m.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:Object(_.jsx)("form",{onKeyDown:N,className:t.form,children:Object(_.jsxs)(f.a,{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(y.a,{fullWidth:!0,placeholder:"comment here...",onChange:function(e){s(e.target.value)}}),Object(_.jsx)(O.a,{onClick:N,children:Object(_.jsx)(ie.a,{})})]})})})]})})},oe=Object(h.a)({link:{textDecoration:"none"}}),le=function(e){var t=oe(),n=Object(a.useState)([]),c=Object(u.a)(n,2),i=c[0],s=c[1],o=document.cookie,l=JSON.parse(o);Object(a.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(L,"/contributions/magazine/").concat(e.magazine),{headers:{"Content-type":"application/json","x-access-token":l.token},method:"GET"});case 2:return t.next=4,t.sent.json();case 4:n=t.sent,s(n.contributions);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var d=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.findIndex((function(e){return e.id===t})),!0!==n.target.checked){e.next=10;break}return e.next=4,fetch("".concat(L,"/contributions/").concat(t,"/select"),{headers:{"Content-type":"application/json","x-access-token":l.token},method:"PUT"});case 4:return e.next=6,e.sent.json();case 6:c=e.sent,s([].concat(Object(q.a)(i.slice(0,a)),[c.contribution],Object(q.a)(i.slice(a+1)))),e.next=16;break;case 10:return e.next=12,fetch("".concat(L,"/contributions/").concat(t,"/deselect"),{headers:{"Content-type":"application/json","x-access-token":l.token},method:"PUT"});case 12:return e.next=14,e.sent.json();case 14:r=e.sent,s([].concat(Object(q.a)(i.slice(0,a)),[r.contribution],Object(q.a)(i.slice(a+1))));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{children:Object(_.jsx)(D.a,{children:Object(_.jsxs)(I.a,{children:[Object(_.jsx)(B.a,{children:Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:"student"!==e.role?"Contributors":"Student Name"}),Object(_.jsx)(T.a,{children:"Title"}),"student"!==e.role?Object(_.jsx)(T.a,{children:"Select"}):"",Object(_.jsx)(T.a,{children:"Actions"})]})}),Object(_.jsx)(J.a,{children:i.length>0?i.map((function(n){return Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:n.contributorName}),Object(_.jsx)(T.a,{children:n.title}),"student"!==e.role?Object(_.jsx)(T.a,{children:Object(_.jsx)(X.a,{checked:n.isSelected,onChange:function(t){"coordinator"===e.role&&d(n.id,t)},inputProps:{"aria-label":"primary checkbox"}})}):"",Object(_.jsxs)(T.a,{children:[Object(_.jsx)(r.b,{to:"/contribution/".concat(n.id,"/").concat(e.state),className:t.link,children:Object(_.jsx)(O.a,{children:Object(_.jsx)(M.a,{})})}),"student"==e.role&&Object(_.jsx)(r.b,{to:"/update/".concat(n.id),className:t.link,children:Object(_.jsx)(O.a,{children:Object(_.jsx)(G.a,{})})})]})]},n.id)})):"No contributions"})]})})})},je=Object(h.a)({root:{width:"100%"}}),de=function(e){var t=je();return Object(_.jsx)("div",{children:Object(_.jsx)(D.a,{className:t.root,children:Object(_.jsxs)(I.a,{children:[Object(_.jsx)(B.a,{children:Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:"Date"}),Object(_.jsx)(T.a,{children:"Files"})]})}),Object(_.jsx)(J.a,{children:e.files.map((function(e){return Object(_.jsxs)(A.a,{children:[Object(_.jsx)(T.a,{children:e.createdAt}),Object(_.jsx)(T.a,{children:Object(_.jsx)("a",{href:"".concat(L,"/files/").concat(e.id),children:e.filename})})]},e.id)}))})]})})})},be=n(379),ue=Object(h.a)({root:{backgroundColor:"#fff",width:"200px",height:"200px",margin:"20px",padding:"20px"},date:{borderLeft:"2px solid #00587A",paddingLeft:"20px",height:"50%"},year:{textAlign:"right"}}),he=function(e){var t=ue(),n=Object(a.useState)(""),c=Object(u.a)(n,2),i=c[0],s=c[1],o=Object(a.useState)({closureDate:"",finalClosureDate:""}),l=Object(u.a)(o,2),j=l[0],b=l[1],h=Object(a.useState)(!1),x=Object(u.a)(h,2),O=x[0],m=x[1];Object(a.useEffect)((function(){m(!0);try{var t=new Date(e.closureDate),n=new Date(e.finalClosureDate),a=new Date,c=Object(d.a)({},j);c.closureDate=t.toDateString(),c.finalClosureDate=n.toDateString(),b(c),m(!1),s(a>t&&a<n?"#F7EA00":a>t&&a>n?"#BE0000":"#9EDE73")}catch(i){console.log(i)}}),[]);return Object(_.jsx)("div",{children:Object(_.jsxs)(f.a,{display:"flex",justifyContent:"space-between",flexDirection:"column",component:g.a,className:t.root,border:"4px solid ".concat(i),children:[Object(_.jsxs)(f.a,{width:"100%",display:"flex",justifyContent:"space-between",children:[Object(_.jsx)(f.a,{fontWeight:"bold",children:e.name}),"admin"===e.role||"manager"===e.role?Object(_.jsx)(r.b,{to:"/magazine/editMagazine/".concat(e.id),children:Object(_.jsx)(be.a,{onClick:function(e){e.stopPropagation()},children:Object(_.jsx)(G.a,{})})}):""]}),O?Object(_.jsx)(p.a,{}):Object(_.jsxs)(f.a,{className:t.date,display:"flex",justifyContent:"space-between",flexDirection:"column",children:[Object(_.jsx)(f.a,{children:j.closureDate}),Object(_.jsx)(f.a,{children:j.finalClosureDate})]}),Object(_.jsxs)(f.a,{display:"flex",justifyContent:"space-between",children:[Object(_.jsx)(f.a,{className:t.year,children:e.manager}),Object(_.jsx)(f.a,{className:t.year,children:e.published_year})]})]})})},xe=n(385),Oe=n(344),me=n(387),pe=Object(h.a)((function(e){return{root:{width:"100%",color:"white",display:"flex",alignItems:"center",justifyContent:"flex-start",flexDirection:"column"},item:{width:"100%"},button:{color:"white"},role:{width:"100%",alignItems:"center",display:"flex",marginTop:"40px",paddingLeft:"20px"},link:{textDecoration:"none",color:"inherit"}}}));var fe=function(){var e=pe(),t=Object(o.f)(),n=Object(a.useState)(""),c=Object(u.a)(n,2),i=c[0],s=c[1],l=Object(a.useState)(""),j=Object(u.a)(l,2),d=j[0],b=j[1],h=document.cookie;return Object(a.useEffect)((function(){var e=JSON.parse(h);s(e.role),b(e.id)}),[]),Object(_.jsxs)("div",{className:e.root,children:[Object(_.jsx)(R.a,{className:e.role,variant:"h6"}),Object(_.jsxs)(xe.a,{className:e.item,children:["admin"===i&&Object(_.jsxs)(f.a,{children:[Object(_.jsx)(r.b,{to:"/dashboard",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Dashboard"})})}),Object(_.jsx)(r.b,{to:"/accounts",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Accounts"})})}),Object(_.jsx)(r.b,{to:"/magazines",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Magazines"})})})]}),"manager"===i&&Object(_.jsxs)(f.a,{children:[Object(_.jsx)(r.b,{to:"/dashboard",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Dashboard"})})}),Object(_.jsx)(r.b,{to:"/accounts",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Accounts"})})}),Object(_.jsx)(r.b,{to:"/magazines",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Magazines"})})})]}),"coordinator"===i&&Object(_.jsxs)(f.a,{children:[Object(_.jsx)(r.b,{to:"/account/editAccount/".concat(d),className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Profile"})})}),Object(_.jsx)(r.b,{to:"/magazines",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Magazines"})})})]}),"student"===i&&Object(_.jsxs)(f.a,{children:[Object(_.jsx)(r.b,{to:"/account/editAccount/".concat(d),className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Profile"})})}),Object(_.jsx)(r.b,{to:"/magazines",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Magazines"})})})]}),"guest"===i&&Object(_.jsxs)(f.a,{children:[Object(_.jsx)(r.b,{to:"/account/editAccount/".concat(d),className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Profile"})})}),Object(_.jsx)(r.b,{to:"/magazines",className:e.link,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Magazines"})})})]})]}),Object(_.jsx)(xe.a,{className:e.item,children:Object(_.jsx)(Oe.a,{button:!0,children:Object(_.jsx)(me.a,{primary:"Logout",onClick:function(){document.cookie="".concat(h,"; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),t.push("/")}})})})]})},ge=Object(h.a)((function(e){return{sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},papper:{minWidth:"40%",width:"60%",minHeight:"80%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},btngroup:{display:"flex",width:"100%",justifyContent:"flex-end"},btn:{height:"100%"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"}}})),ye=Object(x.a)({palette:{secondary:{main:"#0F3057"}}}),ve=function(){var e=ge(),t=Object(o.f)(),n=Object(o.g)(),c=n.action,i=n.idaccount,s=Object(a.useState)(!0),r=Object(u.a)(s,2),l=r[0],h=r[1],x=Object(a.useState)(""),S=Object(u.a)(x,2),D=S[0],I=S[1],B=Object(a.useState)({email:"",password:"",role:"",faculty:"",fullname:"",gender:"",phone:"",dob:""}),A=Object(u.a)(B,2),T=A[0],J=A[1],P=Object(a.useState)(!1),W=Object(u.a)(P,2),F=W[0],G=W[1];Object(a.useEffect)((function(){var e=document.cookie,t=JSON.parse(e);I(t.role)}),[]),Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("createAccount"===c){e.next=10;break}return t=document.cookie,n=JSON.parse(t),G(!0),e.next=6,fetch("".concat(L,"/accounts/").concat(i),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 6:return e.next=8,e.sent.json();case 8:0===(a=e.sent).exitcode&&(delete(s=Object(d.a)({},a.account)).id,J(s),G(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var H=function(){var e=Object(z.a)({length:16,type:"ascii-printable"}),t=Object(d.a)({},T);t.password=e,J(t)},M=function(e){var t=Object(d.a)({},T);t[e.target.name]=e.target.value,J(t)},U=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.cookie,a=JSON.parse(n),e.next=4,fetch("".concat(L,"/accounts"),{headers:{"Content-type":"application/json","x-access-token":a.token},method:"POST",body:JSON.stringify(T)});case 4:return e.next=6,e.sent.json();case 6:e.sent,t.push("/accounts");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.cookie,a=JSON.parse(n),e.next=4,fetch("".concat(L,"/accounts/").concat(i),{headers:{"Content-type":"application/json","x-access-token":a.token},method:"PUT",body:JSON.stringify(T)});case 4:return e.next=6,e.sent.json();case 6:0===e.sent.exitcode&&("admin"===T.role||"manager"===T.role?t.push("/accounts"):t.push("/magazines"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.cookie,a=JSON.parse(n),e.next=4,fetch("".concat(L,"/accounts/").concat(i),{headers:{"Content-type":"application/json","x-access-token":a.token},method:"DELETE"});case 4:return e.next=6,e.sent.json();case 6:0===e.sent.exitcode&&t.push("/accounts");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:l?e.menuBtnClose:e.menuBtnOpen,onClick:function(){h(!l)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:l?e.sidebarClose:e.sidebarOpen,children:l?"":Object(_.jsx)(fe,{})}),Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:e.main,container:!0,justify:"center",alignItems:"center",children:F?Object(_.jsx)(p.a,{}):Object(_.jsxs)(f.a,{component:g.a,className:e.papper,padding:3,children:[Object(_.jsx)(y.a,{label:"Email",variant:"outlined",fullWidth:!0,name:"email",defaultValue:T.email,onChange:M}),"createAccount"===c&&Object(_.jsx)(f.a,{width:"100%",children:Object(_.jsxs)(m.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:10,lg:10,children:Object(_.jsx)(y.a,{label:"Password",variant:"outlined",name:"password",fullWidth:!0,InputLabelProps:{shrink:!0},value:T.password,onChange:M})}),Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:2,lg:2,children:Object(_.jsx)(O.a,{variant:"outlined",color:"secondary",onClick:H,fullWidth:!0,className:e.btn,children:"Generate"})})]})}),"editAccount"===c&&Object(_.jsx)(f.a,{width:"100%",children:Object(_.jsxs)(m.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,children:[Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:10,lg:10,children:Object(_.jsx)(y.a,{label:"Password",variant:"outlined",name:"password",fullWidth:!0,InputLabelProps:{shrink:!0},value:T.password,onChange:M})}),Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:2,lg:2,children:Object(_.jsx)(O.a,{variant:"outlined",color:"secondary",onClick:H,fullWidth:!0,className:e.btn,children:"Generate"})})]})}),Object(_.jsxs)(v.a,{variant:"outlined",fullWidth:!0,children:[Object(_.jsx)(C.a,{id:"role-select-label",children:"Role"}),Object(_.jsxs)(k.a,{labelId:"role-select-label",disabled:"createAccount"!==c,id:"role-select",defaultValue:T.role,name:"role",onChange:M,label:"Role",children:[Object(_.jsx)(w.a,{value:"admin",children:"Admin"}),Object(_.jsx)(w.a,{value:"manager",children:"Manager"}),Object(_.jsx)(w.a,{value:"coordinator",children:"Coordinator"}),Object(_.jsx)(w.a,{value:"student",children:"Student"}),Object(_.jsx)(w.a,{value:"guest",children:"Guest"})]})]}),Object(_.jsx)(y.a,{label:"Faculty",variant:"outlined",fullWidth:!0,name:"faculty",disabled:"admin"!==D&&"manager"!==D,defaultValue:T.faculty,onChange:M}),Object(_.jsx)(y.a,{label:"Full Name",variant:"outlined",name:"fullname",fullWidth:!0,defaultValue:T.fullname,onChange:M}),Object(_.jsx)(y.a,{label:"Phone",variant:"outlined",fullWidth:!0,name:"phone",type:"number",defaultValue:T.phone,onChange:M}),Object(_.jsxs)(v.a,{variant:"outlined",fullWidth:!0,children:[Object(_.jsx)(C.a,{id:"gender-select-label",children:"Gender"}),Object(_.jsxs)(k.a,{labelId:"gender-select-label",id:"gender-select",name:"gender",defaultValue:T.gender,onChange:M,label:"Gender",children:[Object(_.jsx)(w.a,{value:"male",children:"Male"}),Object(_.jsx)(w.a,{value:"female",children:"Female"})]})]}),Object(_.jsx)(y.a,{label:"DOB",variant:"outlined",type:"date",fullWidth:!0,name:"dob",InputLabelProps:{shrink:!0},defaultValue:T.dob,onChange:M}),"createAccount"===c&&Object(_.jsx)(N.a,{theme:ye,children:Object(_.jsx)(f.a,{className:e.btngroup,children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",onClick:U,children:"Create"})})}),"editAccount"===c&&Object(_.jsx)(N.a,{theme:ye,children:Object(_.jsx)(f.a,{className:e.btngroup,children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",onClick:R,children:"Update"})})}),"deleteAccount"===c&&Object(_.jsx)(N.a,{theme:ye,children:Object(_.jsx)(f.a,{className:e.btngroup,children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",onClick:V,children:"Delete"})})}),"viewAccount"===c&&""]})})]})]})},Ce=Object(h.a)({sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"}}),ke=function(){var e=Ce(),t=Object(o.f)(),n=Object(a.useState)(!0),c=Object(u.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(""),l=Object(u.a)(r,2),j=l[0],d=l[1],b=Object(a.useState)({}),h=Object(u.a)(b,2),x=h[0],f=h[1],g=document.cookie;Object(a.useEffect)((function(){var e=JSON.parse(g);d(e.role),"admin"!==e.role&&"manager"!==e.role&&t.push("/oops")})),Object(a.useEffect)((function(){var e=JSON.parse(g);f({name:e.name,email:e.email})}),[]);return Object(_.jsx)("div",{children:"admin"===j||"manager"===j?Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:i?e.menuBtnClose:e.menuBtnOpen,onClick:function(){s(!i)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:i?e.sidebarClose:e.sidebarOpen,children:i?"":Object(_.jsx)(fe,{})}),Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:e.main,children:Object(_.jsx)(Z,{user:x})})]})]}):Object(_.jsx)(p.a,{})})},we=n(201),Ne=n.n(we),Se=Object(h.a)({sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease 0.5s"},sidebarClose:{height:"0"},commentOpen:{backgroundColor:"#E7E7DE",position:"fixed",right:"0",height:"100vh",width:"100%",transition:"linear 0.5s"},commentClose:{height:"0",width:"0"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"},commentBtnOpen:{height:"30px",color:"#000000",position:"fixed",right:"0",bottom:"0",zIndex:"9999"},commentBtnClose:{height:"30px",right:"0",bottom:"0",color:"#000000",position:"fixed",zIndex:"9999"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},table:{borderRadius:"33px 33px 0 0",backgroundColor:"#fff",boxShadow:" 0px -10px 37px 0px rgba(0,0,0,0.2)",minHeight:"80%",width:"100%"},title:{textAlign:"right",paddingLeft:"20px",paddingBottom:"20px"}}),Ee=Object(x.a)({palette:{secondary:{main:"#0F3057"}}}),ze=function(){var e=Object(o.g)(),t=e.idcon,n=e.state,c=Object(a.useState)(!0),i=Object(u.a)(c,2),s=i[0],l=i[1],d=Object(a.useState)(!0),h=Object(u.a)(d,2),x=h[0],p=h[1],g=Object(a.useState)([]),y=Object(u.a)(g,2),v=y[0],C=y[1],k=Object(a.useState)(""),w=Object(u.a)(k,2),S=w[0],z=w[1],D=Object(a.useState)(""),I=Object(u.a)(D,2),B=I[0],A=I[1],T=Se(),J=document.cookie;return Object(a.useEffect)((function(){var e=JSON.parse(J);z(e.role),function(){var n=Object(b.a)(j.a.mark((function n(){var a;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(L,"/contributions/").concat(t),{headers:{"Content-type":"application/json","x-access-token":e.token},method:"GET"});case 2:return n.next=4,n.sent.json();case 4:0===(a=n.sent).exitcode&&(C(a.contribution.files),A(a.contribution.contributorEmail));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[]),Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:s?T.menuBtnClose:T.menuBtnOpen,onClick:function(){l(!s)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:s?T.sidebarClose:T.sidebarOpen,children:s?"":Object(_.jsx)(fe,{})}),Object(_.jsxs)(m.a,{container:!0,justify:"space-between",alignItems:"start",direction:"column",item:!0,xs:12,sm:12,md:12,lg:12,className:T.main,children:[Object(_.jsx)(f.a,{className:T.title,children:Object(_.jsx)(R.a,{variant:"h5",children:B})}),0===n||1===n?Object(_.jsx)(f.a,{width:"100%",display:"flex",justifyContent:"flex-end",children:"student"===S&&Object(_.jsx)(O.a,{variant:"contained",color:"secondary",disabled:!0,children:"Submit"})}):Object(_.jsx)(N.a,{theme:Ee,children:Object(_.jsx)(f.a,{width:"100%",display:"flex",justifyContent:"flex-end",children:"student"===S&&Object(_.jsx)(r.b,{to:"/upload/contribution/".concat(t,"/submit"),children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",children:"Submit"})})})}),Object(_.jsx)(f.a,{className:T.table,children:Object(_.jsx)(de,{files:v})})]}),Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:5,sm:5,md:5,lg:5,className:x?T.commentClose:T.commentOpen,children:x?"":Object(_.jsx)(re,{idcon:t})})]}),Object(_.jsx)(O.a,{className:x?T.commentBtnClose:T.commentBtnOpen,onClick:function(){p(!x)},children:Object(_.jsx)(Ne.a,{})})]})},De=Object(h.a)((function(e){return{sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},papper:{minWidth:"40%",width:"60%",minHeight:"50%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},btngroup:{display:"flex",width:"100%",justifyContent:"flex-end"},btn:{height:"100%"}}})),Ie=Object(x.a)({palette:{secondary:{main:"#0F3057"}}}),Be=function(){var e=De(),t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(""),r=Object(u.a)(s,2),l=r[0],d=r[1],h=Object(o.g)().idcon,x=Object(o.f)(),p=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n=JSON.parse(t),e.next=4,fetch("".concat(L,"/contributions/").concat(h),{headers:{"Content-type":"application/json","x-access-token":n.token},body:JSON.stringify({title:l}),method:"PUT"});case 4:return e.next=6,e.sent.json();case 6:0===e.sent.exitcode&&(a=window.localStorage,c=a.getItem("state"),x.push("/contribution/".concat(h,"/").concat(c)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:c?e.menuBtnClose:e.menuBtnOpen,onClick:function(){i(!c)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:c?e.sidebarClose:e.sidebarOpen,children:c?"":Object(_.jsx)(fe,{})}),Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:e.main,container:!0,alignContent:"center",justify:"center",children:Object(_.jsxs)(f.a,{component:g.a,className:e.papper,padding:3,children:[Object(_.jsx)(y.a,{label:"Title",variant:"outlined",fullWidth:!0,onChange:function(e){d(e.target.value)}}),Object(_.jsx)(N.a,{theme:Ie,children:Object(_.jsx)(f.a,{className:e.btngroup,children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",onClick:p,children:"Save"})})})]})})]})]})},Ae=Object(h.a)({sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},chartbox:{width:"50%"}}),Te=function(){var e=Ae(),t=Object(o.f)(),n=Object(a.useState)(!0),c=Object(u.a)(n,2),i=c[0],s=c[1],r=Object(a.useState)(""),l=Object(u.a)(r,2),j=l[0],d=l[1],b=document.cookie;Object(a.useEffect)((function(){var e=JSON.parse(b);d(e.role),"admin"!==e.role&&"manager"!==e.role&&t.push("/oops")}),[]);return Object(_.jsx)("div",{children:"admin"===j||"manager"===j?Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:i?e.menuBtnClose:e.menuBtnOpen,onClick:function(){s(!i)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:i?e.sidebarClose:e.sidebarOpen,children:i?"":Object(_.jsx)(fe,{rolebase:"admin"})}),Object(_.jsx)(m.a,{item:!0,container:!0,xs:12,sm:12,md:12,lg:12,className:e.main,justify:"center",alignItems:"center",children:Object(_.jsx)(f.a,{className:e.chartbox,children:Object(_.jsx)(ae,{})})})]})]}):Object(_.jsx)(p.a,{})})},Je=(n(323),n.p+"static/media/bg-gw.9fa62b64.png"),Pe=Object(h.a)((function(e){return{root:{flexGrow:1,height:"100vh",background:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(Je,"), no-repeat center"),backgroundSize:"cover"},container:{maxWidth:"80vw"},description:{marginTop:"100px",color:"white",fontSize:"25px"},login:{color:"white"},name:{fontWeight:"bold",textDecoration:"underline #008891",color:"white"}}})),We=function(){var e=Pe();return Object(_.jsx)("div",{children:Object(_.jsx)(m.a,{container:!0,justify:"center",className:e.root,children:Object(_.jsx)(m.a,{container:!0,item:!0,md:12,className:e.container,children:Object(_.jsxs)(m.a,{item:!0,md:12,children:[Object(_.jsx)(r.b,{to:"/login",children:Object(_.jsx)(R.a,{className:e.login,align:"right",variant:"h6",children:"Login"})}),Object(_.jsx)(m.a,{item:!0,md:12,children:Object(_.jsx)(R.a,{className:e.name,variant:"h4",children:"UNIVERSITY OF GREENWICH"})}),Object(_.jsx)(m.a,{item:!0,md:5,children:Object(_.jsx)(R.a,{className:e.description,children:"This is the magazine management system which belongs to Greenwich University"})}),Object(_.jsx)(m.a,{item:!0,md:7})]})})})})},Fe=n(396),Ge=n(103),He=n.n(Ge),Me=n.p+"static/media/logo-gw.ca6ebe00.jpg",Le=Object(x.a)({palette:{secondary:{main:"#ffffff"}}}),_e=Object(h.a)((function(e){return{root:{background:"#E7E7DE",height:"100vh",width:"100vw"},paper:{width:"30%",background:"#0F3057"},logo:{width:"200px"},logoImg:{width:"100%",borderRadius:"80px",marginBottom:"10px"},button:{background:"#008891",color:"white"},typo:{color:"white",fontSize:"20px"},textfield:{color:"white"},text:{"& .MuiFormLabel-root":{color:"white"}}}})),Ue=function(){var e=Object(o.f)(),t=Object(a.useState)(""),n=Object(u.a)(t,2),i=n[0],s=n[1],r=Object(a.useState)(""),l=Object(u.a)(r,2),d=l[0],h=l[1],x=Object(a.useState)(!1),p=Object(u.a)(x,2),v=p[0],C=p[1],k=function(){var t=Object(b.a)(j.a.mark((function t(){var n,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(L),t.next=3,fetch("".concat(L,"/auth"),{headers:{"Content-type":"application/json"},method:"POST",body:JSON.stringify({email:i,password:d})});case 3:return t.next=5,t.sent.json();case 5:if(!(n=t.sent).message){t.next=12;break}C(!0),s(""),h(""),t.next=20;break;case 12:return t.next=14,fetch("".concat(L,"/accounts/me"),{headers:{"Access-Control-Allow-Origin":"*","Content-type":"application/json","x-access-token":n.token},method:"GET"});case 14:return t.next=16,t.sent.json();case 16:a=t.sent,c={token:n.token,id:a.account.id,role:a.account.role,faculty:a.account.faculty,fullname:a.account.fullname,email:a.account.email},document.cookie=JSON.stringify(c),"admin"===a.account.role||"manager"===a.account.role?e.push("/accounts"):e.push("/magazines");case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(e,t){"clickaway"!==t&&C(!1)},S=_e();return Object(_.jsxs)("div",{children:[Object(_.jsx)(Fe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:v,autoHideDuration:3500,onClose:w,message:"Invalid Email or Password",action:Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(O.a,{color:"secondary",size:"small",onClick:w,children:"Close"}),Object(_.jsx)(be.a,{size:"small","aria-label":"close",color:"inherit",onClick:w,children:Object(_.jsx)(He.a,{fontSize:"small"})})]})}),Object(_.jsx)(m.a,{container:!0,alignItems:"center",justify:"center",className:S.root,children:Object(_.jsxs)(m.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12,sm:12,md:12,lg:12,direction:"column",children:[Object(_.jsx)(m.a,{item:!0,xs:8,sm:8,md:4,lg:4,children:Object(_.jsx)("img",{src:Me,className:S.logoImg,alt:"logo"})}),Object(_.jsx)(f.a,{component:g.a,className:S.paper,padding:5,children:Object(_.jsx)("form",{onKeyDown:function(e){"Enter"===e.key&&k()},children:Object(_.jsxs)(m.a,{container:!0,alignItems:"center",justify:"center",spacing:3,children:[Object(_.jsx)(m.a,{container:!0,justify:"center",item:!0,md:6,children:Object(_.jsx)(R.a,{className:S.typo,align:"center",children:"Login to Magazine"})}),Object(_.jsxs)(N.a,{theme:Le,children:[Object(_.jsx)(m.a,{container:!0,justify:"center",item:!0,md:12,children:Object(_.jsx)(y.a,{InputProps:{className:S.textfield},className:S.text,id:"standard-secondary",label:"Email",fullWidth:!0,color:"secondary",value:i,onChange:function(e){s(e.target.value)}})}),Object(_.jsx)(m.a,{container:!0,justify:"center",item:!0,md:12,children:Object(_.jsx)(y.a,{InputProps:{className:S.textfield},className:S.text,id:"standard-secondary",label:"Password",fullWidth:!0,color:"secondary",type:"password",value:d,onChange:function(e){h(e.target.value)}})})]}),Object(_.jsx)(m.a,{container:!0,justify:"center",item:!0,md:12,children:Object(_.jsx)(O.a,{variant:"contained",fullWidth:!0,className:S.button,onClick:k,color:"primary",children:"Login"})})]})})})]})})]})},Re=Object(h.a)({sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},table:{borderRadius:"33px 33px 0 0",backgroundColor:"#fff",boxShadow:" 0px -10px 37px 0px rgba(0,0,0,0.2)",minHeight:"80%",width:"100%"},title:{textAlign:"left",paddingLeft:"20px",paddingBottom:"20px"},add:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%"}}),Ve=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),l=s[0],d=s[1],h=Object(a.useState)(""),x=Object(u.a)(h,2),p=x[0],g=x[1],y=Object(a.useState)(0),v=Object(u.a)(y,2),C=v[0],k=v[1],w=Object(o.g)().idmagazine,N=Re(),S=document.cookie;Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,c,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(S),e.next=3,fetch("".concat(L,"/magazines/").concat(w),{headers:{"Content-type":"application/json","x-access-token":t.token},method:"GET"});case 3:return e.next=5,e.sent.json();case 5:n=e.sent,g(n.magazine),a=new Date,c=new Date(n.magazine.closureDate),i=new Date(n.magazine.finalClosureDate),s=window.localStorage,k(a<c?0:a>i?2:1),s.setItem("state",C),d(t.role);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:n?N.menuBtnClose:N.menuBtnOpen,onClick:function(){c(!n)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:n?N.sidebarClose:N.sidebarOpen,children:n?"":Object(_.jsx)(fe,{})}),Object(_.jsxs)(m.a,{container:!0,justify:"space-between",alignItems:"start",direction:"column",item:!0,xs:12,sm:12,md:12,lg:12,className:N.main,children:[Object(_.jsxs)(f.a,{className:N.title,children:[Object(_.jsx)(R.a,{variant:"h5",align:"right",children:p.name}),Object(_.jsx)(R.a,{variant:"h5",align:"right",children:p.published_year}),"admin"===l&&Object(_.jsx)("a",{href:"".concat(L,"/magazines/").concat(w,"/download/selected"),children:Object(_.jsx)(O.a,{children:"Download all"})}),"manager"===l&&Object(_.jsx)("a",{href:"".concat(L,"/magazines/").concat(w,"/download/selected"),children:Object(_.jsx)(O.a,{children:"Download all"})})]}),Object(_.jsx)(f.a,{className:N.table,children:Object(_.jsxs)(f.a,{children:["student"===l?Object(_.jsx)(f.a,{className:N.add,children:0===C?Object(_.jsx)(r.b,{to:"/upload/".concat(w,"/upload"),children:Object(_.jsxs)(O.a,{variant:"text",children:[Object(_.jsx)(Y.a,{})," Create contribution"]})}):Object(_.jsxs)(O.a,{variant:"text",disabled:!0,children:[Object(_.jsx)(Y.a,{})," Create contribution"]})}):"",Object(_.jsx)(le,{role:l,state:C,magazine:w})]})})]})]})]})},Ye=Object(h.a)((function(e){return{sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},papper:{minWidth:"40%",width:"60%",minHeight:"80%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},btngroup:{display:"flex",width:"100%",justifyContent:"flex-end"},btn:{height:"100%"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"}}})),Ke=Object(x.a)({palette:{secondary:{main:"#0F3057"}}}),Ze=function(){var e=Ye(),t=Object(o.f)(),n=Object(o.g)(),c=n.action,i=n.idmagazine,s=Object(a.useState)(!0),r=Object(u.a)(s,2),l=r[0],h=r[1],x=Object(a.useState)(!1),v=Object(u.a)(x,2),C=v[0],k=v[1],w=Object(a.useState)({manager_id:"",name:"",published_year:"",closureDate:"",finalClosureDate:""}),S=Object(u.a)(w,2),z=S[0],D=S[1];Object(a.useEffect)((function(){var e=document.cookie,t=JSON.parse(e),n=Object(d.a)({},z);console.log("ok"),n.manager_id=t.id,D(n)}),[]),Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,s,r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("createMagazine"===c){e.next=10;break}return t=document.cookie,n=JSON.parse(t),k(!0),e.next=6,fetch("".concat(L,"/magazines/").concat(i),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 6:return e.next=8,e.sent.json();case 8:0===(a=e.sent).exitcode&&(s=new Date(a.magazine.closureDate),r=new Date(a.magazine.finalClosureDate),o={manager_id:a.magazine.manager._id,name:a.magazine.name,published_year:a.magazine.published_year,closureDate:s.toISOString().substr(0,10),finalClosureDate:r.toISOString().substr(0,10)},D(o),k(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=function(e){var t=Object(d.a)({},z);t[e.target.name]=e.target.value,D(t)},B=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.cookie,a=JSON.parse(n),e.next=4,fetch("".concat(L,"/magazines"),{headers:{"Content-type":"application/json","x-access-token":a.token},method:"POST",body:JSON.stringify(z)});case 4:return e.next=6,e.sent.json();case 6:0===e.sent.exitcode&&t.push("/magazines");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.cookie,a=JSON.parse(n),e.next=4,fetch("".concat(L,"/magazines/").concat(i),{headers:{"Content-type":"application/json","x-access-token":a.token},method:"PUT",body:JSON.stringify(z)});case 4:return e.next=6,e.sent.json();case 6:0===e.sent.exitcode&&t.push("/magazines");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:l?e.menuBtnClose:e.menuBtnOpen,onClick:function(){h(!l)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:l?e.sidebarClose:e.sidebarOpen,children:l?"":Object(_.jsx)(fe,{})}),Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:e.main,container:!0,justify:"center",alignItems:"center",children:C?Object(_.jsx)(p.a,{}):Object(_.jsxs)(f.a,{component:g.a,className:e.papper,padding:3,children:[Object(_.jsx)(y.a,{label:"Name",variant:"outlined",fullWidth:!0,name:"name",value:z.name,onChange:I}),Object(_.jsx)(y.a,{label:"Published Year",variant:"outlined",fullWidth:!0,type:"number",name:"published_year",value:z.published_year,onChange:I}),Object(_.jsx)(y.a,{label:"Closure Date",variant:"outlined",fullWidth:!0,type:"date",name:"closureDate",InputLabelProps:{shrink:!0},value:z.closureDate,onChange:I}),Object(_.jsx)(y.a,{label:"Final Closure Date",variant:"outlined",fullWidth:!0,type:"date",name:"finalClosureDate",InputLabelProps:{shrink:!0},value:z.finalClosureDate,onChange:I}),"createMagazine"===c&&Object(_.jsx)(N.a,{theme:Ke,children:Object(_.jsx)(f.a,{className:e.btngroup,children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",onClick:B,children:"Create"})})}),"editMagazine"===c&&Object(_.jsx)(N.a,{theme:Ke,children:Object(_.jsx)(f.a,{className:e.btngroup,children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",onClick:A,children:"Update"})})}),"viewMagazine"===c&&""]})})]})]})},qe=Object(x.a)({palette:{secondary:{main:"#00587A"}}}),Qe=Object(h.a)((function(e){return{sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},link:{textDecoration:"none"},wrapper:{width:"70%"}}})),Xe=function(){var e=Qe(),t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),l=o[0],d=o[1],h=Object(a.useState)([]),x=Object(u.a)(h,2),g=x[0],y=x[1],v=Object(a.useState)(!1),C=Object(u.a)(v,2),k=C[0],w=C[1];Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n=JSON.parse(t),w(!0),d(n.role),e.next=6,fetch("".concat(L,"/magazines"),{headers:{"Content-type":"application/json","x-access-token":n.token},method:"GET"});case 6:return e.next=8,e.sent.json();case 8:0===(a=e.sent).exitcode&&(y(a.magazines),w(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,{className:c?e.menuBtnClose:e.menuBtnOpen,onClick:function(){i(!c)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:c?e.sidebarClose:e.sidebarOpen,children:c?"":Object(_.jsx)(fe,{})}),Object(_.jsxs)(m.a,{container:!0,justify:"center",alignItems:"center",direction:"column",item:!0,xs:12,sm:12,md:12,lg:12,className:e.main,children:["manager"===l||"admin"===l?Object(_.jsx)(N.a,{theme:qe,children:Object(_.jsx)(r.b,{to:"/magazine/createMagazine",children:Object(_.jsx)(O.a,{variant:"outlined",color:"secondary",children:"Create Magazine"})})}):"",Object(_.jsx)(f.a,{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",className:e.wrapper,children:k?Object(_.jsx)(p.a,{}):g.map((function(e){return Object(_.jsx)(r.b,{to:"/magazine/".concat(e.id,"/detail/contributions"),children:Object(_.jsx)(he,{id:e.id,name:e.name,role:l,closureDate:e.closureDate,finalClosureDate:e.finalClosureDate,published_year:e.published_year,manager:e.manager.username},e.id)})}))})]})]})]})},$e=Object(h.a)({root:{width:"100vw",height:"100vh",background:"#E7E7DE",color:"#00587A"},title:{marginBottom:"150px"}}),et=function(){var e=$e();return Object(_.jsxs)(f.a,{className:e.root,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(_.jsxs)(f.a,{className:e.title,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(_.jsx)(R.a,{variant:"h1",children:"404"}),Object(_.jsx)(R.a,{variant:"h3",children:"OOPS! PAGE NOT FOUND"})]}),Object(_.jsx)(R.a,{variant:"h5",children:"You are directing for wrong url"})]})},tt=n(390),nt=n(391),at=n(130),ct=n.n(at),it=Object(h.a)((function(e){return{sidebarOpen:{backgroundColor:"#00587A",position:"fixed",height:"100vh",transition:"ease-in 0.5s"},sidebarClose:{height:"0"},menuBtnOpen:{height:"30px",color:"#fff",position:"fixed",zIndex:"999"},menuBtnClose:{height:"30px",color:"#000000",position:"fixed",zIndex:"999"},main:{minHeight:"100vh",backgroundColor:"#E7E7DE"},papper:{minWidth:"40%",width:"60%",minHeight:"50%",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},btngroup:{display:"flex",width:"100%",justifyContent:"flex-end"},btn:{height:"100%"}}})),st=Object(x.a)({palette:{secondary:{main:"#0F3057"}}}),rt=function(){var e=it(),t=Object(o.f)(),n=Object(o.g)(),i=n.idmagazine,s=n.action,r=n.idcon,l=Object(a.useState)(!0),j=Object(u.a)(l,2),d=j[0],b=j[1],h=Object(a.useState)(!1),x=Object(u.a)(h,2),p=x[0],v=x[1],C=Object(a.useState)(""),k=Object(u.a)(C,2),w=k[0],S=k[1],z=Object(a.useState)(!1),D=Object(u.a)(z,2),I=D[0],B=D[1],A=Object(a.useState)(null),T=Object(u.a)(A,2),J=T[0],P=T[1],W=Object(a.useState)(null),F=Object(u.a)(W,2),G=F[0],H=F[1],M=function(e,t){"clickaway"!==t&&v(!1)};return Object(_.jsxs)("div",{children:[Object(_.jsx)(Fe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:p,autoHideDuration:3500,onClose:M,message:"You must agree to the terms and conditions!",action:Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(O.a,{color:"secondary",size:"small",onClick:M,children:"Close"}),Object(_.jsx)(be.a,{size:"small","aria-label":"close",color:"inherit",onClick:M,children:Object(_.jsx)(He.a,{fontSize:"small"})})]})}),Object(_.jsx)(O.a,{className:d?e.menuBtnClose:e.menuBtnOpen,onClick:function(){b(!d)},children:Object(_.jsx)(E.a,{})}),Object(_.jsxs)(m.a,{container:!0,children:[Object(_.jsx)(m.a,{item:!0,container:!0,justify:"center",xs:4,sm:4,md:2,lg:2,className:d?e.sidebarClose:e.sidebarOpen,children:d?"":Object(_.jsx)(fe,{})}),Object(_.jsx)(m.a,{item:!0,xs:12,sm:12,md:12,lg:12,className:e.main,container:!0,alignContent:"center",justify:"center",children:Object(_.jsxs)(f.a,{component:g.a,className:e.papper,padding:3,children:["upload"===s&&Object(_.jsx)(y.a,{label:"Title",name:"title",variant:"outlined",fullWidth:!0,onChange:function(e){S(e.target.value)}}),Object(_.jsx)("label",{for:"article",children:"Choose Article"}),Object(_.jsx)("input",{type:"file",name:"article",accept:".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.pdf",onChange:function(e){P(e.target.files[0])}}),Object(_.jsx)("label",{for:"pictures",children:"Choose Picture"}),Object(_.jsx)("input",{type:"file",name:"pictures",multiple:!0,accept:"image/*",onChange:function(e){H(e.target.files)}}),Object(_.jsx)(tt.a,{row:!0,name:"agreement",onChange:function(){B(!I)},children:Object(_.jsx)(nt.a,{control:Object(_.jsx)(X.a,{color:"primary"}),label:"I agree to all Terms and Conditions"})}),Object(_.jsx)(N.a,{theme:st,children:Object(_.jsx)(f.a,{className:e.btngroup,children:Object(_.jsx)(O.a,{variant:"contained",color:"secondary",onClick:function(){if("upload"===s)if(!1===I)v(!0);else{var e=document.cookie,n=JSON.parse(e),a=new FormData;a.append("magazine",i),a.append("title",w),a.append("article",J),Array.from(G).forEach((function(e){return a.append("pictures",e)})),a.append("agreement",I),ct.a.post("".concat(L,"/contributions"),a,{headers:{"x-access-token":n.token}}).then((function(e){"OK"===e.statusText&&t.push("/magazines")}))}else if("submit"===s)if(!1===I)v(!0);else{var c=document.cookie,o=JSON.parse(c),l=new FormData;l.append("title",w),l.append("article",J),Array.from(G).forEach((function(e){return l.append("pictures",e)})),l.append("agreement",I),ct.a.post("".concat(L,"/files/contribution/").concat(r),l,{headers:{"x-access-token":o.token}}).then((function(e){t.push("/magazines")})).catch((function(e){console.log(e)}))}},children:"Save"})})})]})})]})]})};var ot=function(){var e=Object(o.f)(),t=document.cookie;return Object(a.useEffect)((function(){t||e.push("/")}),[]),Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)(o.c,{children:[Object(_.jsx)(o.a,{exact:!0,path:"/",children:Object(_.jsx)(We,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/login",children:Object(_.jsx)(Ue,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/oops",children:Object(_.jsx)(et,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/accounts",children:Object(_.jsx)(ke,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/dashboard",children:Object(_.jsx)(Te,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/account/:action",children:Object(_.jsx)(ve,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/magazines",children:Object(_.jsx)(Xe,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/magazine/:action",children:Object(_.jsx)(Ze,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/account/:action/:idaccount",children:Object(_.jsx)(ve,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/magazine/:action/:idmagazine",children:Object(_.jsx)(Ze,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/magazine/:idmagazine/detail/contributions",children:Object(_.jsx)(Ve,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/contribution/:idcon/:state",children:Object(_.jsx)(ze,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/upload/:idmagazine/:action",children:Object(_.jsx)(rt,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/upload/contribution/:idcon/:action",children:Object(_.jsx)(rt,{})}),Object(_.jsx)(o.a,{exact:!0,path:"/update/:idcon",children:Object(_.jsx)(Be,{})})]})})},lt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,401)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),i(e),s(e)}))};s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(r.a,{children:Object(_.jsx)(ot,{})})}),document.getElementById("root")),lt()}},[[341,1,2]]]);
//# sourceMappingURL=main.6c8c0cdc.chunk.js.map